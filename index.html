<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="CanvasMarker.js"></script>
    <title>CanvasMarker</title>
    <style>
    #map,
    body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        position: absolute;
    }
    .note {
        position: absolute;
        background-color: white;
        left: 0;
        bottom: 0;
        font: 20px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
        padding: 10px;
    }
    </style>
</head>

<body>
    <div id="map"></div>
    <div class="note">Click on the map to create new markers</div>

</body>
<script>
'use strict';
var map = L.map('map').setView([51.505, -0.09], 13);

L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}').addTo(map);
var marker = L.canvasMarker([51.5, -0.09]).addTo(map);
// var markerOriginal = L.marker([51.5, -0.09]).addTo(map);

map.on('click', function(e) {
    L.canvasMarker(e.latlng).addTo(map);
});
</script>

</html>
